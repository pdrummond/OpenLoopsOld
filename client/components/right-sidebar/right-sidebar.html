<template name="rightSidebar">
	<div id="actions-wrapper">
		{{> Template.dynamic template=rightSidebarTemplate}}
	</div>
</template>

<template name="actions">
	<div  class="ui top tabular pointing secondary menu" style='margin-bottom:0'>
		
		<a id="actions-tab" class="{{activeTab 'actions'}} item"><i class="warning circle icon"></i> Actions</a>
		<!--<a id="labels-tab" class="{{activeTab 'labels'}} item"><i class="tag icon"></i> Labels</a>-->
		<a id="people-tab" class="{{activeTab 'people'}} item"><i class="users icon"></i> Team</a>
	</div>
	<div class="ui bottom attached {{activeTab 'actions'}} tab" data-tab="first" style="height:100%">			

		<div id="filter-box" style="padding-top:10px">
			<div class="ui left action input" style="padding-left:15px;margin-right:10px">
				<div class="ui dropdown button" style="padding:10px">
					<div class="text">Filters</div>
					<i class="dropdown icon"></i>
					<div class="menu">
						<div id="clear-all-filters" class="item">Clear All Filters</div>
						<div class="divider"></div>
						<div id="all-my-actions-filter" class="item"> All My Actions</div>
						<div id="my-open-tasks-filter" class="item"> My Open Tasks</div>
						<div id="all-open-bugs-filter" class="item"> All Open Bugs</div>
						<div id="all-archived-actions" class="item"> All Archived Actions</div>
					</div>
				</div>
				<input class="input-box_filter" type="text" placeholder="Type filter here..." value="{{actionFilterString}}" style="width:390px;font-size: 100%;" />
			</div>
		</div>
		<div class="ui small text menu" style="margin: 0;margin-left: 10px;">		
			<a id="actions-open-label" class="item">
				<i class='icon circle'></i> {{getPublishedCount 'action-open-count'}} Open
			</a>
			<a id="actions-archived-label" class="item">
				<i class='icon archive'></i> {{getPublishedCount 'action-archived-count'}}  Archived
			</a>			
		</div>		
		<div id="action-list" style="height:100%;width:490px">
			<div class="ui middle aligned divided relaxed list" style="padding:10px;padding-left:15px;overflow-y:scroll;height:100%;align-content: flex-start;">
				{{#each actionsXX}}
				{{> actionItem}}
				{{/each}}
			</div>
		</div>			
	</div>
	<!--<div class="ui bottom attached tab {{activeTab 'labels'}}" data-tab="third">
		<div class="ui divided selection list">
			<a class="item">
				<div class="right floated content">
					<strong>6</strong> open <strong>19</strong> Closed
				</div>
				<div class="ui red horizontal label">#important</div>
				<p style="font-size:80%;margin-top:5px">Very important stuff that always takes priority.</p>
			</a>
			<a class="item">
				<div class="right floated content">
					<strong>6</strong> open <strong>19</strong> Closed
				</div>
				<div class="ui purple horizontal label">#now</div>
				<p style="font-size:80%;margin-top:5px">Tasks that need doing right now</p>
			</a>
			<a class="item">
				<div class="right floated content">
					<strong>6</strong> open <strong>19</strong> Closed
				</div>
				<div class="ui red horizontal label">#next</div>
				<p style="font-size:80%;margin-top:5px">Tasks that I will be doing next</p>
			</a>
			<a class="item">
				<div class="right floated content">
					<strong>6</strong> open <strong>19</strong> Closed
				</div>
				<div class="ui horizontal label">#soon</div>
				<p style="font-size:80%;margin-top:5px">Tasks I'll get round to doing soon(ish)</p>
			</a>
		</div>
	</div>-->
	<div class="ui bottom attached tab {{activeTab 'people'}}" data-tab="forth">
		<div class="ui attached message">

			<p>The following team members are currently online: </p>
		</div>
		<div class="ui middle aligned selection list">
			{{#each activeUsers}}
			{{> activeUser}}
			{{/each}}			
		</div>
	</div>	

</template>

<template name="activeUser">
	<div class="item">	
		<img class="ui avatar image" src="{{profileImage userId}}"/>
		<div class="content">
			<div class="header">@{{usernameFromId userId}}</div>
			<div class="description"></div>
		</div>
	</div>
</template>

<template name="filterItem">
	<div class="filter item {{activeClass}}">
		{{title}}
	</div>
</template>